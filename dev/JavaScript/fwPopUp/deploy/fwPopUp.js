(function(d,t,y){function W(c){var d=P(),k="";if(d&&d[c]){delete d[c];for(var l in d)k+=l+(!0===d[l]?"":"="+encodeURIComponent(d[l]));y.location.hash=k;return!0}return!1}function z(c,d){var c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),k=RegExp("[\\?&]"+c+"=([^&#]*)").exec(d);return null===k?"":k[1]}function X(c){var d=P(),k={};return d&&d[c]?(k[c]=!0===d[c]?0:d[c],k):!1}function P(){for(var c=y.location.hash,c=c?c.replace(/^#/,"").split("&"):[],l={},k=0;k<c.length;k++){var t=c[k].split("=");l[t[0]]=
decodeURIComponent(t[1])||!0}d.isEmptyObject(l)&&(l=!1);return l}function Y(){return y.pageYOffset?{scrollTop:y.pageYOffset,scrollLeft:y.pageXOffset}:t.documentElement&&t.documentElement.scrollTop?{scrollTop:t.documentElement.scrollTop,scrollLeft:t.documentElement.scrollLeft}:t.body?{scrollTop:t.body.scrollTop,scrollLeft:t.body.scrollLeft}:{scrollTop:0,scrollLeft:0}}var Z=d.fwPopup={initialized:!1,version:"2.0.0"},l=d(y),J,A=l.height(),q=l.width();d.fn.fwPopup=function(c){var I,k;function ka(a){a=
q/2+Q.scrollLeft-a/2;0>a&&(a=0);return a}function la(a){a=A/2+Q.scrollTop-a/2;0>a&&(a=0);return a}function D(){h&&(Q=Y(),A=l.height(),q=l.width(),h.css({top:la(h.outerHeight(!1)),left:ka(h.outerWidth(!1))}))}function E(a){if(!c.modal||!0===a)a=c.animationSpeed,J.is(":animated")||(h.stop().find("object,embed").css({visibility:"hidden"}),h.fadeOut(a,function(){d(this).remove()}),J.fadeOut(a,function(){c.hideFlash&&d("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css({visibility:"visible"});
d(this).remove();l.off("scroll.fwPopup");W(C);Z.isInitialized=!1;c.callback()}))}function $(a){a=d(a.target);a.hasClass("button-expand")?a.removeClass("button-expand").addClass("button-contract").attr({"aria-label":"Contract the image",title:"Contract the image"}):a.removeClass("button-contract").addClass("button-expand").attr({"aria-label":"Expand the image",title:"Expand the image"});aa(ba);return!1}function r(a,d){ca(a,d);var e=!1,b=a,f=d;if((u>q||B>A)&&c.allowResize&&!K){for(var e=!0,g=!1;!g;)u>
q?(f=q-200,b=a/d*f):B>A?(b=A-200,f=d/a*b):g=!0,B=b,u=f;(u>q||B>A)&&r(u,B);ca(b,f)}return{width:Math.floor(f),height:Math.floor(b),containerHeight:Math.floor(B),containerWidth:Math.floor(u)+2*c.horizontalPadding,contentHeight:Math.floor(da),contentWidth:Math.floor(ea),resized:e}}function ca(a,b){var a=parseFloat(a),b=parseFloat(b),e=h.clone().appendTo(d("body")).css({position:"absolute",top:-1E4}).addClass("testDiv").show(),g=e.find(".fwpContent");e.find(".fwpDetails").addClass(c.theme);e.find("#fwpFullRes").css({height:a,
width:b});da=g.outerHeight(!1);ea=b;B=e.outerHeight(!1);u=b;e.remove()}function ma(a){return a.match(/youtube\.com\/watch/i)||a.match(/youtu\.be/i)?"youtube":a.match(/vimeo\.com/i)?"vimeo":a.match(/\b.mov\b/i)?"quicktime":a.match(/\b.swf\b/i)?"flash":a.match(/\b.(mp3|ogg)\b/i)?(I="mpeg",k="mp3",a.match(/\b.ogg\b/i)&&(I="ogg",k="vorbis"),"audio"):a.match(/\b.(mp4)\b/i)?(I="mp4",k=void 0,"video"):a.match(/\biframe=true\b/i)?"iframe":a.match(/\bajax=true\b/i)?"ajax":a.match(/\bcustom=true\b/i)?"custom":
"#"==a.substr(0,1)?"inline":"image"}function aa(a){a=a||function(){};R.addClass("fwpLoading");s.find("object,embed").css({visibility:"hidden"});s.css({opacity:0});a()}function fa(a){if(c.keyboardAccessible)d(t).off("keydown.fwPopup").on("keydown.fwPopup",function(a){if(h&&h.is(":visible"))switch(a.keyCode){case 27:c.modal||E()}});L=X(C);!a&&L?(M=L[C]||0,a=d(S[M])):(a=d(a),M=S.index(a));g=a.attr("href");F=(p=a.data())&&p.desc?p.desc:a.attr("title");N=p&&p.title?p.title:a.find("img").attr("alt");if(c.deepLinking){var a=
C,b=M;W(a);var m=P(),q="";m||(m={});m[a]=b;for(var f in m)q+=f+(!0===m[f]?"":"="+encodeURIComponent(m[f]));y.location.hash=q}Z.isInitialized=!0;var i=c.markup,v="",b=parseFloat(z("width",g))?z("width",g):c.defaultWidth,m=parseFloat(z("height",g))?z("height",g):c.defaultHeight,j,u;i.socialTools=i.socialTools?i.socialTools.replace(RegExp(ga,"g"),y.location).replace(RegExp(T,"g"),N):"";i.general=i.general.replace(ha,i.socialTools);d("body").append(i.general);h=d(".fwpHolder").addClass(c.theme);R=h.find(".fwpContent");
f=h.find(".fwpDescription");s=h.find("#fwpFullRes");a=h.find(".fwpTitle");J=d(".overlay.fwp").css({opacity:0}).on("click",E);h.find(".button-close").off("click",E).on("click",E);if(c.allowExpand)h.find(".button-expand").off("click",$).on("click",$);c.hideFlash&&d("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css({visibility:"hidden"});c.showTitle&&N&&a.html(decodeURI(N)).removeClass("no_content");i.socialTools&&h.find(".fwpSocial").removeClass("no_content");f.hide();F&&f.show().html(decodeURI(F));
K=!1;m.toString().indexOf("%")+1&&(m=parseFloat(l.height()*parseFloat(m)/100-150),K=!0);b.toString().indexOf("%")+1&&(b=parseFloat(l.width()*parseFloat(b)/100-150),K=!0);switch(ma(g)){case "ajax":u=!0;e=r(m,b);d.get(g,function(a){v=i.inline.replace(U,a);s[0].innerHTML=v;G()});break;case "audio":j=new Image;j.onload=function(){var a=new Audio,b=p&&p.image?'<img src="'+p.image+'" alt="Cover for '+F+'"/>':"";s[0].innerHTML=i.audio.replace(ia,k).replace(O,b).replace(ja,I).replace(RegExp(n,"g"),g);s.find("audio").width(j.width);
a.setAttribute("src",g);a.load();e=r(j.height+30,j.width);G()};j.src=p.image;break;case "custom":e=r(m,b);v=i.custom;break;case "flash":e=r(m,b);f=g.substring(g.indexOf("flashvars")+10,g.length);a=g.substring(0,g.indexOf("?"));v=i.flash.replace(RegExp(w,"g"),e.width).replace(RegExp(x,"g"),e.height).replace(RegExp(H,"g"),c.wmode).replace(RegExp(n,"g"),a+(f?"?"+f:""));break;case "iframe":e=r(m,b);f=g.substr(0,g.indexOf("iframe")-1);v=i.iframe.replace(RegExp(w,"g"),e.width).replace(RegExp(x,"g"),e.height).replace(RegExp(n,
"g"),f);break;case "image":j=new Image;s[0].innerHTML=i.image.replace(RegExp(n,"g"),g);j.onload=function(){e=r(j.height,j.width);G()};j.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");E(!0)};j.src=g;break;case "inline":s.addClass("fwpInline");f=d("div").addClass("fwpFullRes fwpInline").css({position:"absolute",top:-1E4,width:c.defaultWidth,"max-height":A}).appendTo(d("body"));f[0].innerHTML=d(g).html();e=r(f.outerWidth(!1),f.outerHeight(!1));f.remove();
v=i.inline.replace(U,d(g).html());break;case "quicktime":e=r(m,b);e.height+=15;e.contentHeight+=15;e.containerHeight+=15;v=i.quicktime.replace(RegExp(w,"g"),e.width).replace(RegExp(x,"g"),e.height).replace(RegExp(H,"g"),c.wmode).replace(RegExp(n,"g"),g).replace(RegExp(V,"g"),c.autoPlay);break;case "video":j=new Image;j.onload=function(){var a=p&&p.image?'<img src="'+p.image+'" alt="Cover for '+F+'"/>':"",b=g.substring(0,g.lastIndexOf("."));s[0].innerHTML=i.video.replace(O,a).replace(RegExp(n,"g"),
b);s.find("video").width(j.width);e=r(j.height+30,j.width);G()};j.src=p.image;break;case "vimeo":e=r(m,b);a=g.match(/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/)[3];f=e.width+"/embed/?moog_width="+e.width;a="//player.vimeo.com/video/"+a+"?title=0&byline=0&portrait=0";c.autoPlay&&(a+="&autoplay=1;");v=i.iframe.replace(RegExp(w,"g"),f).replace(RegExp(x,"g"),e.height).replace(RegExp(n,"g"),a);break;case "youtube":e=r(m,b),f=z("v",g),f||(f=g.split("youtu.be/"),f=f[1],0<f.indexOf("?")&&(f=f.substr(0,f.indexOf("?"))),
0<f.indexOf("&")&&(f=f.substr(0,f.indexOf("&")))),a="//www.youtube.com/embed/"+f,a=z("rel",g)?a+("?rel="+z("rel",g)):a+"?rel=1",c.autoPlay&&(a+="&autoplay=1"),v=i.iframe.replace(RegExp(w,"g"),e.width).replace(RegExp(x,"g"),e.height).replace(RegExp(H,"g"),c.wmode).replace(RegExp(n,"g"),a)}aa();!j&&!u&&(s[0].innerHTML=v,G())}function ba(){var a=c.animationSpeed;if(c.allowResize)l.off("scroll.fwPopup",D).on("scroll.fwPopup",function(){D()});l.off("resize.fwPopup",D).on("resize.fwPopup",D);J.show().fadeTo(a,
c.opacity,function(){s.animate({opacity:1},a/2)});h.fadeIn(a,D);h.css({display:"block",opacity:0}).animate({opacity:1,top:top,left:0>q/2-e.containerWidth/2?0:q/2-e.containerWidth/2},a,function(){})}function G(){R.removeClass("fwpLoading");h.find(".fwpFullResImage").height(e.height).width(e.width);c.allowExpand&&(e.resized?d("a.button-expand,a.button-contract").show():d("a.button-expand").hide());ba();c.ajaxCallback()}var F="",p,M,h,s,R,da,ea,B,u,e,L,C,S=this,g,K=!1,Q=Y(),N="",V="{%autoplay}",ia="{%codec}",
U="{%content}",x="{%height}",O="{%image}",ga="{%location_href}",ja="{%type}",n="{%path}",ha="{%social_tools}",T="{%title}",w="{%width}",H="{%wmode}",na=""+O+'<audio controls autoplay class="audioPlayback"><source src="'+n+'" type="audio/'+ja+'" codec="'+ia+'"/></audio>',oa=""+O+'<video id="videoPlayer" controls autoplay class="videoPlayback"><source src="'+n+'.webm" type="video/wemb"><source src="'+n+'.mp4" type="video/mp4"></video>',pa='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+
w+'" height="'+x+'"><param name="wmode" value="'+H+'" /><param name="allowfullscreen" value="true"/><param name="allowscriptaccess" value="always" /><param name="movie" value="'+n+'" /><embed src="'+n+'" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+w+'" height="'+x+'" wmode="'+H+'"></embed></object>',b;b=[];b.push('<div class="fwpHolder">');b.push('<div class="fwpTitle no_content"></div>');b.push('<div class="fwpTop">');b.push('<div class="fwpLeft"></div>');
b.push('<div class="fwpMiddle"></div>');b.push('<div class="fwpRight"></div>');b.push("</div>");b.push('<div class="fwpContainer">');b.push('<div class="fwpLeft">');b.push("</div>");b.push('<div class="fwpContent fwpMiddle fwpLoading">');b.push('<a tabindex="0" class="button-expand" title="Expand the image" aria-label="Expand the image">Expand</a>');b.push('<div id="fwpFullRes" class="fwpFullRes"></div>');b.push('<div class="fwpDetails">');b.push('<p class="fwpDescription no_content"></p>');b.push('<div class="fwpSocial no_content">'+
ha+"</div>");b.push('<a tabindex="0" class="button-close" title="Close the modal" aria-label="Close the modal">Close</a>');b.push("</div>");b.push("</div>");b.push('<div class="fwpRight">');b.push("</div>");b.push("</div>");b.push('<div class="fwpBottom">');b.push('<div class="fwpLeft"></div>');b.push('<div class="fwpMiddle"></div>');b.push('<div class="fwpRight"></div>');b.push("</div>");b.push("</div>");b.push('<div class="overlay fwp"></div>');b=b.join("");c=d.extend(!0,{ajaxCallback:function(){},
allowExpand:!0,allowResize:!0,animationSpeed:500,autoPlay:!0,callback:function(){},defaultHeight:344,defaultWidth:500,deepLinking:!0,hideFlash:!1,hook:"data-fwPopup",hookWord:"fwPopup",horizontalPadding:20,ie6Fallback:!0,keyboardAccessible:!0,markup:{general:b,audio:na,custom:"",flash:pa,iframe:'<iframe src ="'+n+'" width="'+w+'" height="'+x+'" frameborder="no"></iframe>',image:'<img class="fwpFullResImage" src="'+n+'"/>',inline:'<div class="fwpInline">'+U+"</div>",quicktime:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="//www.apple.com/qtactivex/qtplugin.cab" height="'+
x+'" width="'+w+'"><param name="src" value="'+n+'"><param name="autoplay" value="'+V+'"><param name="type" value="video/quicktime"><embed src="'+n+'" height="'+x+'" width="'+w+'" autoplay="'+V+'" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',socialTools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none" data-text="'+T+'">Tweet</a><script src="//platform.twitter.com/widgets.js"><\/script></div><div class="facebook"><div class="fb-share-button" data-href="'+
ga+'" data-layout="button" data-caption="'+T+'"></div><script>(function($){$.ajaxSetup({cache:true});$.getScript("//connect.facebook.net/en_US/sdk.js",function(){FB.init({xfbml:1,version:"v2.5"})});})(jQuery)<\/script></div>',video:oa},modal:!1,opacity:1,showTitle:!0,theme:"default",wmode:"opaque"},c);C=c.hookWord;(L=X(C))&&fa();return S.off("click.fwPopup").on("click.fwPopup",function(a){a.preventDefault();fa(this)})}})(jQuery,document,window);