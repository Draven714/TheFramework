(function(a){a.fn.customAlert=function(c){var d={alertOk:"OK",draggable:!1};c&&a.extend(d,c);document.getElementById&&(window.defaultAlert=window.alert,window.alert=function(c,e){if(!(0<a(".overlay").length||void 0===c||void 0===e)){var f=a("<div>").addClass("overlay").show(),b=a("<div>").addClass("title").html(c),g=a("<div>").addClass("message").html(e),h=a("<a>").addClass("okBtn").text(d.alertOk).attr("href","#"),b=a("<div>").addClass("alertBox").append(b).append(g).append(h);a("body").append(b).append(f);
b.css({top:a(window).height()/2-b.outerHeight(!0)/2+"px",left:a(window).width()/2-b.outerWidth(!0)/2+"px"});d.draggable&&b.draggable&&(b.draggable({handle:".title",opacity:0.4}),a(".alertBox .title").css("cursor","move"));a(".alertBox .okBtn, .overlay").click(function(b){b.preventDefault();a(".alertBox, .overlay").remove()});a(window).keydown(function(b){"13"==b.keyCode&&(a(".alertBox .okBtn").click(),a(this).unbind("keydown"))})}})}})(jQuery);